<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Minimal Cartesian Plot Game</title>
  <link href="https://fonts.googleapis.com/css2?family=Alore&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Norican&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap" rel="stylesheet">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      background: #f8f5ec;
      color: #222;
      font-family: 'Alore', system-ui, sans-serif;
    }
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
    #scoreboard {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 320px;
      margin-bottom: 10px;
      font-size: 1.1em;
      letter-spacing: 1px;
    }
    #game {
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    #plot {
      background: #fff;
      border: 1px solid #ccc;
      box-shadow: 0 2px 8px #0001;
    }
    #inputs {
      margin-top: 10px;
      display: flex;
      gap: 8px;
      align-items: center;
    }
    #inputs input[type=number] {
      width: 48px;
      font-size: 1em;
      padding: 2px 4px;
      border: 1px solid #bbb;
      border-radius: 3px;
      background: #f5f5f5;
      color: #222;
      font-family: 'Alore', system-ui, sans-serif;
    }
    #inputs button {
      font-size: 1em;
      padding: 2px 10px;
      border: none;
      border-radius: 3px;
      background: #222;
      color: #fff;
      cursor: pointer;
      transition: background 0.2s;
      font-family: 'Alore', system-ui, sans-serif;
    }
    #inputs button:hover {
      background: #444;
    }
    #overlay {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.25);
      z-index: 2;
      font-size: 2em;
      font-weight: bold;
      color: #fff;
      text-shadow: 0 2px 8px #0008;
      transition: background 0.3s;
      font-family: 'Alore', system-ui, sans-serif;
    }
    #overlay.red {
      background: rgba(200,0,0,0.35);
    }
    #overlay.green {
      background: rgba(0,180,0,0.30);
    }
    h1 {
      font-family: 'Norican', cursive, sans-serif !important;
      font-size: 2.3em;
      font-weight: 700;
      letter-spacing: 1px;
      color: #1a1a1a;
      text-align: center;
      margin-bottom: 10px;
    }
    #instructions, #scoreboard, #target-coord, label, button, span, div, a {
      font-family: 'Alore', system-ui, sans-serif !important;
    }
  </style>
</head>
<body>
  <h1>Cartesian Plotting Game</h1>
  <!-- Game by nwalte11 -->
  <div id="game" style="position:relative;">
    <div id="target-coord" style="position:absolute;top:8px;right:12px;font-size:1.08em;color:#222;z-index:3;background:rgba(255,255,255,0.85);padding:2px 10px 2px 10px;border-radius:4px;user-select:none;font-family:'Inter','Segoe UI','Arial',sans-serif;font-weight:400;letter-spacing:0.01em;"></div>
  <canvas id="plot" width="480" height="480"></canvas>
    <div id="overlay"></div>
  </div>
      
  </div>
  <div id="scoreboard" style="margin-top:18px; display: flex; flex-direction: column; align-items: center;">
    <div style="display: flex; gap: 60px; font-size: 1.2em;">
      <span id="incorrect">0</span>
      <span id="tries">3</span>
      <span id="correct">0</span>
    </div>
    <div style="display: flex; gap: 38px; font-size: 0.95em; color: #666; margin-top: 2px; letter-spacing: 0.5px;">
      <span>Incorrect</span>
      <span>Tries</span>
      <span>Correct</span>
    </div>
  </div>
  <div id="instructions" style="margin-top:18px;font-size:1em;color:#444;text-align:center;max-width:520px;">
  Click anywhere on the grid to move the red dot. Try to match the red dot to the target coordinate shown at the top right. You have 3 tries for each target. Your score is tracked below the grid.
</div>
<div id="modal" style="display:none;position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,0.97);z-index:10;align-items:center;justify-content:center;flex-direction:column;text-align:center;padding:0 18px;">
  <div style="font-size:1.3em;font-weight:700;margin-bottom:10px;letter-spacing:0.5px;">Assistance</div>
  <div style="font-size:1.2em;font-weight:600;margin-bottom:12px;">How to Plot Coordinates</div>
  <div style="font-size:1em;max-width:340px;margin-bottom:18px;">
    The first number (x) tells you how far to move left or right from the center. The second number (y) tells you how far to move up or down. For example, (3, -2) means 3 right and 2 down from the center.
  </div>
  <a href="https://www.youtube.com/watch?v=VDONZfzIDJU" target="_blank" style="display:inline-block;margin-bottom:18px;color:#1976d2;text-decoration:underline;font-size:1em;">Watch: Plotting Points on a Coordinate Plane (YouTube)</a>
  <button id="modal-next" style="font-size:1em;padding:6px 22px;border:none;border-radius:4px;background:#222;color:#fff;cursor:pointer;">Next</button>
</div>
<iframe width="0" height="0" src="https://www.youtube.com/embed/Q89Dzox4jAE?autoplay=1&loop=1&playlist=Q89Dzox4jAE" title="Background Sound" frameborder="0" allow="autoplay" allowfullscreen style="display:none;"></iframe>
<script>
    // --- Game State ---
  let correct = 0, incorrect = 0, tries = 3;
  let target = {x: 0, y: 0};
  let dot = {x: 0, y: 0};
  const min = -10, max = 10;
    // --- DOM ---
    const plot = document.getElementById('plot');
    const ctx = plot.getContext('2d');
    const overlay = document.getElementById('overlay');
    const scoreboard = {
      correct: document.getElementById('correct'),
      incorrect: document.getElementById('incorrect'),
      tries: document.getElementById('tries')
    };
    const targetCoord = document.getElementById('target-coord');
    const modal = document.getElementById('modal');
    const modalNext = document.getElementById('modal-next');
    // --- Helpers ---
    function randInt(a, b) {
      return Math.floor(Math.random() * (b - a + 1)) + a;
    }
    function newTarget() {
      target.x = randInt(min, max);
      target.y = randInt(min, max);
      dot.x = 0;
      dot.y = 0;
      tries = 3;
      updateScoreboard();
      updateTargetCoord();
      draw();
    }
    function updateTargetCoord() {
      targetCoord.textContent = `Target: (${target.x}, ${target.y})`;
    }
    function updateScoreboard() {
      scoreboard.correct.textContent = correct;
      scoreboard.incorrect.textContent = incorrect;
      scoreboard.tries.textContent = tries;
    }
    function showOverlay(type, msg) {
      overlay.className = type;
      overlay.textContent = msg;
      overlay.style.display = 'flex';
      setTimeout(() => {
        overlay.style.display = 'none';
      }, 1200);
    }
    // --- Drawing ---
    function draw() {
      ctx.clearRect(0, 0, plot.width, plot.height);
      // Draw grid
      ctx.save();
      ctx.strokeStyle = '#6fa8dc'; // light blue
      ctx.lineWidth = 1;
      for (let i = min; i <= max; i++) {
        // vertical
        let x = toPx(i, 0).x;
        ctx.beginPath();
        ctx.moveTo(x, 0);
        ctx.lineTo(x, plot.height);
        ctx.stroke();
        // horizontal
        let y = toPx(0, i).y;
        ctx.beginPath();
        ctx.moveTo(0, y);
        ctx.lineTo(plot.width, y);
        ctx.stroke();
      }
      // Draw axes
      ctx.strokeStyle = '#888';
      ctx.lineWidth = 2;
      // y axis
      ctx.beginPath();
      ctx.moveTo(toPx(0,0).x, 0);
      ctx.lineTo(toPx(0,0).x, plot.height);
      ctx.stroke();
      // x axis
      ctx.beginPath();
      ctx.moveTo(0, toPx(0,0).y);
      ctx.lineTo(plot.width, toPx(0,0).y);
      ctx.stroke();
      // Draw numbers
  ctx.fillStyle = '#222';
  ctx.font = `400 ${Math.max(18, plot.width/28)}px 'Inter', 'Segoe UI', Arial, sans-serif`;
  ctx.textAlign = 'center';
  ctx.textBaseline = 'top';
      for (let i = min; i <= max; i++) {
        if (i !== 0) {
          // x numbers
          ctx.fillText(i, toPx(i,0).x + 8 * Math.sign(i), toPx(0,0).y + 8);
          // y numbers
          ctx.save();
          ctx.textAlign = 'right';
          ctx.textBaseline = 'middle';
          ctx.fillText(i, toPx(0,0).x - plot.width/38, toPx(0,i).y + 8 * Math.sign(i));
          ctx.restore();
        }
      }
      // Draw movable dot
      ctx.beginPath();
      ctx.arc(toPx(dot.x, dot.y).x, toPx(dot.x, dot.y).y, 7, 0, 2*Math.PI);
      ctx.fillStyle = 'red';
      ctx.fill();
      ctx.restore();
    }
    function toPx(x, y) {
      // Add margin so numbers are inside the grid
      const margin = plot.width * 0.06;
      const gridSize = plot.width - 2 * margin;
      return {
        x: margin + ((x - min) / (max - min)) * gridSize,
        y: plot.height - (margin + ((y - min) / (max - min)) * gridSize)
      };
    }
    // --- Game Logic ---
    let paused = false;
    plot.addEventListener('mousemove', function(e) {
      const rect = plot.getBoundingClientRect();
      const px = e.clientX - rect.left;
      const py = e.clientY - rect.top;
      const x = Math.round(min + (px / plot.width) * (max - min));
      const y = Math.round(min + ((plot.height - py) / plot.height) * (max - min));
      dot.x = Math.max(min, Math.min(max, x));
      dot.y = Math.max(min, Math.min(max, y));
      draw();
    });

    plot.addEventListener('mouseleave', function() {
      dot.x = 0;
      dot.y = 0;
      draw();
    });

    plot.addEventListener('click', function(e) {
      if (paused) return;
      // dot.x, dot.y already set by mousemove
      if (dot.x === target.x && dot.y === target.y) {
        correct++;
        showOverlay('green', 'ðŸ˜Š CORRECT ðŸ˜Š');
        setTimeout(() => {
          newTarget();
        }, 1200);
      } else {
        tries--;
        incorrect++;
        showOverlay('red', 'ðŸ˜ž WRONG ðŸ˜ž');
        if (tries === 0) {
          paused = true;
          setTimeout(() => {
            modal.style.display = 'flex';
          }, 1200);
        }
      }
      updateScoreboard();
    });
    modalNext.addEventListener('click', function() {
      modal.style.display = 'none';
      paused = false;
      newTarget();
    });

  // --- Responsive Canvas Init ---
  function resizeCanvas() {
    const size = Math.min(window.innerWidth * 0.8, window.innerHeight * 0.7);
    plot.width = size;
    plot.height = size;
  }
  resizeCanvas();
  newTarget();
  window.addEventListener('resize', () => {
    resizeCanvas();
    draw();
  });
  </script>
</body>
</html>
